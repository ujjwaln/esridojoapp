<!DOCTYPE html>
<html>
    <head>
        <title>Area Profile System</title>
        <meta name="description" content="Area Profile System">
        <meta name="author" content="narayanu">

        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

        <!-- link rel="stylesheet" href="http://js.arcgis.com/3.9/js/dojo/dijit/themes/soria/soria.css">
        <link rel="stylesheet" href="http://js.arcgis.com/3.9/js/dojo/dijit/themes/claro/claro.css" -->
        <link rel="stylesheet" href="http://js.arcgis.com/3.9/js/dojo/dijit/themes/nihilo/nihilo.css">

        <!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">

        <!-- Optional theme -->
        <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css">

        <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

        <!-- Latest compiled and minified JavaScript -->
        <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>

        <link rel="stylesheet" href="http://js.arcgis.com/3.9/js/esri/css/esri.css">
        <link rel="stylesheet" href="http://js.arcgis.com/3.9/js/dojo/dojox/form/resources/BusyButton.css">
        <link rel="stylesheet" href="http://js.arcgis.com/3.9/js/dojo/dojox/grid/resources/Grid.css">
        <link rel="stylesheet" href="http://js.arcgis.com/3.9/js/dojo/dojox/grid/resources/soriaGrid.css">
        <link rel="stylesheet" href="http://js.arcgis.com/3.9/js/dojo/dojox/layout/resources/ExpandoPane.css">
        <link rel="stylesheet" href="http://js.arcgis.com/3.9/js/dojo/dojox/layout/resources/FloatingPane.css">
        <link rel="stylesheet" href="http://js.arcgis.com/3.9/js/dojo/dojox/layout/resources/ResizeHandle.css">

        <link rel="stylesheet" href="./mapper/css/styles.css">
        <link rel="stylesheet" href="./mapper/css/aps.css">

        <!-- setup dojo amd path to load app resources -->
        <script>
            var basePath = location.pathname.replace(/\/[^/]+$/, "");
            //var basePath = "http://127.0.0.1:8020/mapper_v1/src";
            var dojoConfig = {
                parseOnLoad : true,
                async : true,
                isDebug : false,
                packages : [{
                    location : basePath + "/mapper",
                    name : "mapper"
                }]
            };
        </script>

        <!-- load esri jsapi -->
        <script src="http://js.arcgis.com/3.9/"></script>

        <!-- load the app -->
        <script src="./mapper/mapper.js"></script>
    </head>

    <body>
        <div class="container-fluid">

            <div class="row">
                <div id="headerContentPane" class='header'>
                    <img src="./mapper/widgets/images/coned.jpg" />
                    <span class='title'>Area Profile System</span>
                </div>
            </div>

            <div class="row">

                <div class="col-md-9 nopadding">

                    <div style="width:100%;height:100%;min-height:720px;display:block;position:relative;" class="nihilo well">

                        <div style="position:absolute;top:0;left:0;width:100%" class="dijitToolbar">
                            <div style="float:left;display:inline-block;margin-right:12px;"
                            data-dojo-type="mapper.widgets.Nav" data-dojo-props="mapId:'theMap1'"></div>
                            <div style="float:left;display:inline-block;margin-right:12px;"
                            data-dojo-type="mapper.widgets.Maptools" data-dojo-props="mapId:'theMap1',tocId:'toc1'"></div>
                            <div data-dojo-type="mapper.widgets.RoiSelector" class="nihilo"
                            id="roiSelector1" style="float:left;display:inline-block;margin-right:12px;"
                            data-dojo-props="
                            mapId:'theMap1',
                            tocId:'toc1',
                            bookmarksUrl:'http://cmvpdev:6080/arcgis/rest/services/APS/APS_Boundary/MapServer'"></div>
                        </div>

                        <div data-dojo-type="mapper.widgets.CustomMap" id="theMap1" style="position:absolute;top:30px;left:0;right:0;bottom:0"
                        data-dojo-props="
                        zoom:14,
                        center:[-73, 40.73],
                        dynamicMapServices:[
                        {alias: 'APS', url:'http://cmvpdev:6080/arcgis/rest/services/APS/APS_Test/MapServer'}]"></div>

                        <div data-dojo-type="dijit/form/DropDownButton" style="position:absolute;top:40px;right:10px">
                            <div>
                                <img src="./mapper/widgets/images/layers_sm.png" />
                            </div>
                            <div data-dojo-type="dijit/TooltipDialog" style="max-width:150px" class="nihilo">
                                <div data-dojo-type="mapper.widgets.BasemapToggler" id="basemapToggler1"
                                data-dojo-props="
                                title:'',
                                mapId:'theMap1',
                                showGoogleBasemaps:false,
                                showArcGISBasemaps:true,
                                showConEdBasemaps:false,
                                showBingBasemaps: true,
                                bingMapsKey:'AtB3qEk2rEWoZOSyJOZ-UaVFY2m7RjsXcl8eS7On0fhv_2h72JYeh57ZKeCrEHoW',
                                selectedBasemap:'Bing Road'
                                "></div>
                            </div>
                        </div>

                    </div>
                </div>

                <div class="col-md-3 nopadding">
                    <div class="panel-group" id="accordion">
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h4 class="panel-title"><a data-toggle="collapse" data-parent="#accordion" href="#collapseOne"> Layers </a></h4>
                            </div>
                            <div id="collapseOne" class="panel-collapse collapse in">
                                <div class="panel-body">
                                    <div data-dojo-type="mapper.widgets.Toc" id="toc1" data-dojo-props="mapId:'theMap1'" class="nihilo"></div>
                                </div>
                            </div>
                        </div>
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h4 class="panel-title"><a data-toggle="collapse" data-parent="#accordion" href="#collapseTwo"> Search </a></h4>
                            </div>
                            <div id="collapseTwo" class="panel-collapse collapse">
                                <div class="panel-body">
                                    <div data-dojo-type="mapper.widgets.QueryTool" class="nihilo"
                                    data-dojo-props="tocId:'toc1',mapId:'theMap1',roiSelectorId:'roiSelector1'"></div>
                                </div>
                            </div>
                        </div>
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h4 class="panel-title"><a data-toggle="collapse" data-parent="#accordion" href="#collapseThree"> Reports </a></h4>
                            </div>
                            <div id="collapseThree" class="panel-collapse collapse">
                                <div class="panel-body">
                                    Reports
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-12">
                    <div data-dojo-type="dojox.layout.ExpandoPane" id="epResults" title="Results"
                        data-dojo-props="height:180, splitter:true, region:'bottom', startExpanded:false">
                        <div id="tcResults" data-dojo-type="mapper.widgets.Resulter"
                            data-dojo-props="region:'bottom'" tabstrip="true", style="height:180px"></div>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>
